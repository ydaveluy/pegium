#pragma once

#include <any>
#include <memory>
#include <pegium/syntax-tree.hpp>
#include <string>
#include <string_view>

namespace pegium {

namespace grammar {
class IContext;
}
struct ParseResult {
  bool ret = false;
  bool recovered = false;
  size_t len = 0;
  std::shared_ptr<RootCstNode> root_node;
  std::any value;
  // TODO add errors
};

class IParser {
public:
  virtual ~IParser() noexcept = default;

 // virtual grammar::Context &getContext() = 0;
  virtual std::unique_ptr<grammar::IContext> createContext() const = 0;
  // virtual ParseResult parse(const std::string &input) const = 0;
};

} // namespace pegium